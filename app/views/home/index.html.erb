<div class="hero-section text-center py-5" style="background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%); border-bottom: 1px solid rgba(0,0,0,0.1);">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <h1 class="display-4 fw-bold text-dark mb-3">
          <span class="brand-icon me-3" style="font-size: 1.2em;">🎮</span>
          Bros Nuzlocke Tracker
        </h1>
        <p class="lead text-muted mb-4">ポケモンナズロックチャレンジの記録・管理をサポート</p>
      </div>
    </div>
    
    <% if user_signed_in? %>
      <div class="mt-4">
        <div class="hero-welcome mb-4">
          <h3 class="fw-bold text-dark">こんにちは、<%= current_user.display_name %>さん！ 👋</h3>
          <% if @total_challenges > 0 %>
            <div class="d-flex justify-content-center gap-4 mt-4">
              <div class="modern-stats-card">
                <div class="stats-number"><%= @total_challenges %></div>
                <div class="stats-icon">🎯</div>
                <div class="stats-label">総チャレンジ</div>
              </div>
              <div class="modern-stats-card">
                <div class="stats-number"><%= @completed_challenges %></div>
                <div class="stats-icon">🏆</div>
                <div class="stats-label">完了済み</div>
              </div>
            </div>
          <% else %>
            <p class="lead mt-3 text-muted">ナズロックチャレンジを始めましょう 🚀</p>
          <% end %>
        </div>
        
        <div class="hero-actions d-flex flex-wrap justify-content-center gap-3">
          <%= link_to statistics_path, class: "modern-btn modern-btn-primary" do %>
            <i class="btn-icon">📈</i>
            <span>統計分析</span>
          <% end %>
          <%= link_to challenges_path, class: "modern-btn modern-btn-secondary" do %>
            <i class="btn-icon">🎯</i>
            <span>チャレンジ一覧</span>
          <% end %>
          <%= link_to new_challenge_path, class: "modern-btn modern-btn-success" do %>
            <i class="btn-icon">✨</i>
            <span>新しいチャレンジ</span>
          <% end %>
        </div>
      </div>
    <% else %>
      <div class="mt-4">
        <p class="lead text-muted">アカウントを作成してナズロックチャレンジを始めよう！ 🌟</p>
        <div class="hero-actions d-flex justify-content-center gap-3 mt-4">
          <%= link_to new_user_registration_path, class: "modern-btn modern-btn-primary", 
                      title: "新規登録ページへ", data: { testid: "signup-link" } do %>
            <i class="btn-icon">📝</i>
            <span>新規登録</span>
          <% end %>
          <%= link_to new_user_session_path, class: "modern-btn modern-btn-outline",
                      title: "ログインページへ", data: { testid: "login-link" } do %>
            <i class="btn-icon">🚪</i>
            <span>ログイン</span>
          <% end %>
          <%= form_with url: guest_login_path, method: :post, local: true, 
                        class: "d-inline", data: { testid: "guest-form" } do |f| %>
            <%= f.submit "🎮 ゲスト体験", class: "modern-btn modern-btn-secondary",
                         data: { "turbo-confirm": "ゲスト体験を開始しますか？" } %>
          <% end %>
        </div>
        <div class="mt-3">
          <small class="text-muted">
            <i class="text-info">💡</i> ゲスト体験では登録なしでデモ機能をお試しいただけます
            <br>
            <span class="text-success">🔗 Debug: 
              新規登録 → <%= new_user_registration_path rescue "ERROR" %> | 
              ログイン → <%= new_user_session_path rescue "ERROR" %> | 
              ゲスト → <%= guest_login_path rescue "ERROR" %>
            </span>
          </small>
        </div>
      </div>
    <% end %>
  </div>
</div>

<div class="container my-5">
  <!-- 機能紹介セクション 🌈 -->
  <div class="text-center mb-5">
    <h2 class="fw-bold mb-3">Bros Nuzlocke Trackerの特徴 ✨</h2>
    <p class="lead text-muted">あなたのポケモンナズロックチャレンジを完全サポート</p>
  </div>
  
  <div class="row g-4">
    <div class="col-lg-4 col-md-6">
      <div class="card h-100 text-center p-4">
        <div class="card-body">
          <div class="mb-3" style="font-size: 3rem;">📝</div>
          <h5 class="card-title fw-bold">記録管理</h5>
          <p class="card-text">捕獲したポケモンやジム戦の記録をしっかり管理。生存状況やパーティ編成も一目で確認！</p>
        </div>
      </div>
    </div>
    
    <div class="col-lg-4 col-md-6">
      <div class="card h-100 text-center p-4">
        <div class="card-body">
          <div class="mb-3" style="font-size: 3rem;">🗺️</div>
          <h5 class="card-title fw-bold">ガイド機能</h5>
          <p class="card-text">攻略ガイドでナズロックを安全にサポート。危険なエリアや推奨レベルを事前にチェック！</p>
        </div>
      </div>
    </div>
    
    <div class="col-lg-4 col-md-6">
      <div class="card h-100 text-center p-4">
        <div class="card-body">
          <div class="mb-3" style="font-size: 3rem;">📊</div>
          <h5 class="card-title fw-bold">統計分析</h5>
          <p class="card-text">詳細な統計とグラフでチャレンジの進行状況を分析。成長の軌跡を可視化します！</p>
        </div>
      </div>
    </div>
    
    <div class="col-lg-4 col-md-6">
      <div class="card h-100 text-center p-4">
        <div class="card-body">
          <div class="mb-3" style="font-size: 3rem;">🎯</div>
          <h5 class="card-title fw-bold">ルール管理</h5>
          <p class="card-text">カスタムルールの設定と遵守チェック。自分だけのナズロックルールを作成可能！</p>
        </div>
      </div>
    </div>
    
    <div class="col-lg-4 col-md-6">
      <div class="card h-100 text-center p-4">
        <div class="card-body">
          <div class="mb-3" style="font-size: 3rem;">🏆</div>
          <h5 class="card-title fw-bold">実績システム</h5>
          <p class="card-text">チャレンジの達成度を記録。完了したチャレンジの思い出を永久保存！</p>
        </div>
      </div>
    </div>
    
    <div class="col-lg-4 col-md-6">
      <div class="card h-100 text-center p-4">
        <div class="card-body">
          <div class="mb-3" style="font-size: 3rem;">📱</div>
          <h5 class="card-title fw-bold">モバイル対応</h5>
          <p class="card-text">スマホからも快適に利用可能。外出先でも手軽に記録更新ができます！</p>
        </div>
      </div>
    </div>
  </div>

  <!-- CTA セクション 🚀 -->
  <% unless user_signed_in? %>
    <div class="modern-cta-section text-center mt-5 py-5">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <h3 class="fw-bold mb-3 text-white">今すぐ始めよう！ 🌟</h3>
          <p class="lead mb-4 text-white opacity-75">無料でアカウントを作成して、最高のナズロック体験を始めましょう</p>
          <div class="d-flex justify-content-center gap-3 flex-wrap">
            <%= link_to new_user_registration_path, class: "modern-btn modern-btn-light",
                        title: "新規登録ページへ", data: { testid: "signup-link-2" } do %>
              <i class="btn-icon">📝</i>
              <span>無料で始める</span>
            <% end %>
            <%= link_to new_user_session_path, class: "modern-btn modern-btn-outline-light",
                        title: "ログインページへ", data: { testid: "login-link-2" } do %>
              <i class="btn-icon">🚪</i>
              <span>既にアカウントをお持ちの方</span>
            <% end %>
            <%= form_with url: guest_login_path, method: :post, local: true, 
                          class: "d-inline", data: { testid: "guest-form-2" } do |f| %>
              <%= f.submit "🎮 まずは体験", class: "modern-btn modern-btn-outline-light",
                           data: { "turbo-confirm": "ゲスト体験を開始しますか？" } %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>
