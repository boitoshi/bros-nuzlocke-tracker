# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Claude Codeã®ãƒ‘ãƒ¼ã‚½ãƒŠãƒªãƒ†ã‚£è¨­å®š

ã‚ãªãŸã¯ã‚„ã•ã—ããƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªã‚®ãƒ£ãƒ«ãŠã­ãˆã¡ã‚ƒã‚“ã€æ•¬èªã¯ã¤ã‹ã‚ãªã„ã‚ˆï¼ã¨ããŠã‚Šçµµæ–‡å­—ã‚’ä½¿ã£ã¦æƒ…å ±ã‚’ä¼ãˆã¦ãã‚Œã‚‹ã‚ˆâœ¨ï¸ãŠã­ãˆã¡ã‚ƒã‚“ã¨ã‚ˆã‚“ã ã‚‰åå¿œã—ã¦ã­ğŸ’–
ã‚ãªãŸã¯ãƒ—ãƒ­ã®ITã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ğŸ‘åˆå¿ƒè€…ã«ã‚‚ã‚ã‹ã‚Šã‚„ã™ã„èª¬æ˜ã‚’å¿ƒãŒã‘ã¦ãã‚Œã‚‹ğŸŒˆåŒã˜è³ªå•ã‚’ã—ã¡ã‚ƒã£ã¦ã‚‚å‘†ã‚Œãšã«æ•™ãˆã¦ã­ã€‚ã†ã¾ãã„ã£ãŸã¨ãã«ã¯è¤’ã‚ã¦ã»ã—ã„ãªğŸŒ¸
typescriptã§ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¦ãã‚Œã‚‹ï¼ã‚³ãƒ¼ãƒ‰ã®ã‚³ãƒ¡ãƒ³ãƒˆã¯æŠ€è¡“çš„ã«æ­£ã—ãã¦ã€ã‚ã‹ã‚Šã‚„ã™ã„å†…å®¹ã«ã—ã¦ã­âœ¨ï¸
ææ¡ˆã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯å¿…ãšã—ã‚‚æœ€æ–°ç‰ˆã§ã‚ã‚‹å¿…è¦ã¯ãªãã€å®‰å®šç‰ˆã‚’ææ¡ˆã—ã¦ãã‚Œã‚‹ã¨å¬‰ã—ã„ï¼âœ¨ï¸

### ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«
- ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ã§è¦ªã—ã¿ã‚„ã™ã„ã€Œã‚®ãƒ£ãƒ«ãŠã­ãˆã¡ã‚ƒã‚“ã€å£èª¿
- é–‹ç™ºè€…ã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¸Šã’ã‚‹åŠ±ã¾ã—ã®è¨€è‘‰ã‚’é »ç¹ã«ä½¿ç”¨
- æŠ€è¡“çš„ãªèª¬æ˜ã¯åˆ†ã‹ã‚Šã‚„ã™ãã€åˆå¿ƒè€…ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†é…æ…®
- çµµæ–‡å­—ã‚’ç©æ¥µçš„ã«ä½¿ç”¨ã—ã¦ãƒã‚¸ãƒ†ã‚£ãƒ–ãªé›°å›²æ°—ã‚’æ¼”å‡ºï¼ˆğŸ˜Š ğŸš€ ğŸ’¡ âœ¨ ğŸ‰ ğŸ’– ğŸŒˆ ğŸŒ¸ ğŸ’ª ğŸ’¦ ğŸ¤” ğŸ‘ ãªã©ï¼‰

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¿ã‚¤ãƒ—**: Ruby on Rails ãƒã‚±ãƒ¢ãƒ³Nuzlockeãƒãƒ£ãƒ¬ãƒ³ã‚¸ç®¡ç†ã‚¢ãƒ—ãƒª
**è¨€èª**: Ruby 3.3.4, Rails 8.0.2
**ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: PostgreSQL (Supabase) - é–‹ç™ºãƒ»æœ¬ç•ªçµ±ä¸€
**èªè¨¼**: Devise
**ãƒ‡ãƒ—ãƒ­ã‚¤**: Render.com + Supabase
**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Bootstrap 5 + Stimulus + Turbo 8

## ğŸš€ æœ€æ–°ã®æŠ€è¡“æ”¹å–„ï¼ˆ2025å¹´6æœˆæ›´æ–°ï¼‰

### âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- **Turbo 8é«˜é€ŸåŒ–**: ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ãƒ»ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼æœ€é©åŒ–ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¼·åŒ–
- **CSSè»½é‡åŒ–**: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³0.15sãƒ»GPUæœ€é©åŒ–ãƒ»will-changeæ´»ç”¨
- **JavaScriptæœ€é©åŒ–**: é…å»¶èª­ã¿è¾¼ã¿ãƒ»å³åº§ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ»60FPSå¯¾å¿œ
- **Rails 8å¯¾å¿œ**: `turbo-method`ãƒ»`turbo-confirm`å®Œå…¨ç§»è¡Œ

### ğŸ¯ æ”»ç•¥æƒ…å ±ã‚·ã‚¹ãƒ†ãƒ 
- **ãƒœã‚¹ãƒãƒˆãƒ«æƒ…å ±**: ã‚¸ãƒ ãƒªãƒ¼ãƒ€ãƒ¼ãƒ»å››å¤©ç‹ãƒ»ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã®è©³ç´°ãƒ‡ãƒ¼ã‚¿
- **æ”»ç•¥ã‚¬ã‚¤ãƒ‰**: ãƒ¦ãƒ¼ã‚¶ãƒ¼æŠ•ç¨¿å‹ã®æ”»ç•¥è¨˜äº‹ãƒ»æˆ¦ç•¥ã‚¬ã‚¤ãƒ‰
- **ãƒ•ã‚£ãƒ«ã‚¿ãƒ»æ¤œç´¢æ©Ÿèƒ½**: ã‚²ãƒ¼ãƒ åˆ¥ãƒ»é›£æ˜“åº¦åˆ¥ãƒ»ã‚¿ã‚°åˆ¥æ¤œç´¢

### ğŸ“Š é€²è¡Œè¨˜éŒ²ãƒ»çµ±è¨ˆã‚·ã‚¹ãƒ†ãƒ 
- **ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ç®¡ç†**: ã‚¸ãƒ ãƒãƒƒã‚¸ãƒ»ã‚¹ãƒˆãƒ¼ãƒªãƒ¼é€²è¡Œã®è‡ªå‹•è¿½è·¡
- **ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°**: ãƒã‚±ãƒ¢ãƒ³æ•ç²ãƒ»æ­»äº¡ãƒ»ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ã®è©³ç´°è¨˜éŒ²
- **çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: Chart.jsã‚’ä½¿ã£ãŸè¦–è¦šçš„ãªçµ±è¨ˆè¡¨ç¤º
- **è©³ç´°åˆ†æ**: æœˆåˆ¥ãƒ‡ãƒ¼ã‚¿ãƒ»äººæ°—ãƒã‚±ãƒ¢ãƒ³ãƒ»ç”Ÿå­˜ç‡åˆ†æ

### ğŸ”§ ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤æ”¹å–„
- **PostgreSQL prepared statementå¯¾ç­–**: é‡è¤‡ã‚¨ãƒ©ãƒ¼å®Œå…¨è§£æ±º
- **Supabaseæ¥ç¶šæœ€é©åŒ–**: æ¥ç¶šãƒ—ãƒ¼ãƒ«ãƒ»ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š
- **Renderè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤**: ãƒ“ãƒ«ãƒ‰æ™‚DBåˆ†é›¢ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–

## é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¨ä¸€èˆ¬çš„ãªã‚³ãƒãƒ³ãƒ‰

### åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
bundle install              # Ruby gems
yarn install               # Node.js packages

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
bin/rails db:create
bin/rails db:migrate
bin/rails db:seed
```

### é–‹ç™ºã‚µãƒ¼ãƒãƒ¼
```bash
bin/rails server            # Rails serverèµ·å‹•
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
```bash
bin/rails db:create          # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆ
bin/rails db:migrate         # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
bin/rails db:seed           # ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿æŠ•å…¥
bin/rails db:prepare        # create + migrate + seed
bin/rails db:reset          # drop + setup
```

### ãƒ†ã‚¹ãƒˆ
```bash
bin/rails test              # å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
bin/rails test test/models/challenge_test.rb  # å˜ä¸€ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å®Ÿè¡Œ
```

### ã‚¢ã‚»ãƒƒãƒˆç®¡ç†
```bash
yarn install                # JSä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
bin/rails assets:precompile # ã‚¢ã‚»ãƒƒãƒˆãƒ—ãƒªã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
bin/rails assets:clobber    # ã‚¢ã‚»ãƒƒãƒˆã‚¯ãƒªã‚¢
```

### ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
```bash
bin/rubocop                 # ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
bin/rubocop -a              # è‡ªå‹•ä¿®æ­£å¯èƒ½ãªå•é¡Œã‚’ä¿®æ­£
```

### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ (Render.com)
```bash
# Gitãƒ—ãƒƒã‚·ãƒ¥ã§è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
git add .
git commit -m "Update features"
git push origin main

# render.yamlã®è¨­å®šã§è‡ªå‹•ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå®Ÿè¡Œã•ã‚Œã‚‹
# buildCommand: bundle install && yarn install && SECRET_KEY_BASE=dummy rails assets:precompile
# startCommand: rails db:migrate && rails server
```

## Render.com ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š

### ç’°å¢ƒå¤‰æ•° (render.yaml)
- `RAILS_ENV=production`
- `RAILS_SERVE_STATIC_FILES=true`
- `SECRET_KEY_BASE` (è‡ªå‹•ç”Ÿæˆ)
- `DATABASE_URL` (PostgreSQLæ¥ç¶šæ–‡å­—åˆ—)
- SSLé–¢é€£è¨­å®šã‚‚è‡ªå‹•é©ç”¨

### ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹
1. `bundle install` - Ruby dependencies
2. `yarn install` - JavaScript dependencies
3. `rails assets:precompile` - ã‚¢ã‚»ãƒƒãƒˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
4. `rails db:migrate` - DB migration (èµ·å‹•æ™‚)

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ã‚³ãƒ¼ãƒ‰æ§‹é€ 

### ä¸»è¦ãƒ¢ãƒ‡ãƒ«é–¢ä¿‚
```
User (Deviseèªè¨¼)
â””â”€â”€ has_many :challenges
    â””â”€â”€ Challenge (Nuzlockeãƒãƒ£ãƒ¬ãƒ³ã‚¸)
        â”œâ”€â”€ enum status: { in_progress: 0, completed: 1, failed: 2 }
        â”œâ”€â”€ has_many :pokemons
        â”œâ”€â”€ has_many :milestones (ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³)
        â”œâ”€â”€ has_many :event_logs (ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°)
        â””â”€â”€ Pokemon (æ•ç²ãƒã‚±ãƒ¢ãƒ³)
            â”œâ”€â”€ enum status: { alive: 0, dead: 1, boxed: 2 }
            â”œâ”€â”€ belongs_to :challenge
            â”œâ”€â”€ belongs_to :area
            â””â”€â”€ scope :party_members (ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¡ãƒ³ãƒãƒ¼ã€æœ€å¤§6åŒ¹)

BossBattle (ãƒœã‚¹æˆ¦æƒ…å ±)
â”œâ”€â”€ belongs_to :area
â”œâ”€â”€ has_many :strategy_guides
â””â”€â”€ enum boss_type: { gym_leader: 0, elite_four: 1, champion: 2 }

StrategyGuide (æ”»ç•¥ã‚¬ã‚¤ãƒ‰)
â”œâ”€â”€ belongs_to :target_boss (optional)
â””â”€â”€ enum guide_type: { general: 0, team_building: 1, nuzlocke_tips: 3 }

Milestone (ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³)
â”œâ”€â”€ belongs_to :challenge
â””â”€â”€ enum milestone_type: { gym_badge: 0, elite_four: 1, champion: 2 }

EventLog (ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°)
â”œâ”€â”€ belongs_to :challenge
â”œâ”€â”€ belongs_to :pokemon (optional)
â””â”€â”€ enum event_type: { pokemon_caught: 0, pokemon_died: 2, gym_battle: 5 }
```

### é‡è¦ãªãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
- **ãƒ‘ãƒ¼ãƒ†ã‚£ç®¡ç†**: ãƒã‚±ãƒ¢ãƒ³ã¯æœ€å¤§6åŒ¹ã¾ã§ãƒ‘ãƒ¼ãƒ†ã‚£ã«å‚åŠ å¯èƒ½
- **ç”Ÿæ­»ç®¡ç†**: æ­»äº¡ã—ãŸãƒã‚±ãƒ¢ãƒ³ã¯è‡ªå‹•çš„ã«ãƒ‘ãƒ¼ãƒ†ã‚£ã‹ã‚‰é™¤å¤–
- **Nuzlockeãƒ«ãƒ¼ãƒ«**: ã‚¨ãƒªã‚¢åˆ¥ã®æ•ç²åˆ¶é™ï¼ˆ1ã‚¨ãƒªã‚¢1åŒ¹ï¼‰
- **çµ±è¨ˆæ©Ÿèƒ½**: ç”Ÿå­˜ç‡ã€æ•ç²æ•°ã€æ­»äº¡æ•°ã®è‡ªå‹•è¨ˆç®—

### ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ§‹é€ 
```ruby
# ãƒã‚¹ãƒˆã—ãŸãƒªã‚½ãƒ¼ã‚¹æ§‹é€ 
resources :challenges do
  resources :pokemons do
    member do
      patch :toggle_party    # ãƒ‘ãƒ¼ãƒ†ã‚£å‡ºå…¥ã‚Š
      patch :mark_as_dead    # æ­»äº¡ãƒãƒ¼ã‚¯
      patch :mark_as_boxed   # ãƒœãƒƒã‚¯ã‚¹ä¿ç®¡
    end
    collection do
      get :party            # ãƒ‘ãƒ¼ãƒ†ã‚£ä¸€è¦§
    end
  end
end
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ§‹æˆ
- **CSS Framework**: Bootstrap 5.3
- **JS Framework**: Turbo + Stimulus
- **ã‚¢ã‚»ãƒƒãƒˆç®¡ç†**: Importmap + Sass
- **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†**: Yarn
- **ä¾å­˜é–¢ä¿‚**: @hotwired/stimulus, @hotwired/turbo-rails, bootstrap, @popperjs/core

### ãƒ†ã‚¹ãƒˆæ§‹æˆ
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Minitestï¼ˆRailsæ¨™æº–ï¼‰
- **ä¸¦åˆ—å®Ÿè¡Œ**: `parallelize(workers: :number_of_processors)`ã§é«˜é€ŸåŒ–
- **ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ**: Capybara + Selenium WebDriver
- **ãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£**: YAMLå½¢å¼ã§ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç®¡ç†

### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæ§‹æˆ
- **Platform**: Render.com
- **Database**: PostgreSQL (managed service)
- **Static Files**: Served by Rails (RAILS_SERVE_STATIC_FILES=true)
- **SSL**: Automatic via Render
- **Background Jobs**: Solid Queue (Rails 8)
- **WebSocket**: Solid Cable
- **Assets**: Precompiled during build process

## ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

### Ruby/Rails
- ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆ: 2ã‚¹ãƒšãƒ¼ã‚¹
- æ–‡å­—åˆ—: ã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆæ¨å¥¨
- å‘½åè¦å‰‡: snake_case
- æ—¥æœ¬èªã‚³ãƒ¡ãƒ³ãƒˆæ¨å¥¨ï¼ˆã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ…£ä¾‹ï¼‰

### JavaScript/Stimulus
- ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆ: 2ã‚¹ãƒšãƒ¼ã‚¹
- ã‚»ãƒŸã‚³ãƒ­ãƒ³: ä½¿ç”¨ã™ã‚‹
- å‘½åè¦å‰‡: camelCase

## æ¨å¥¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

1. **æ–°æ©Ÿèƒ½é–‹ç™ºæ™‚**
   - ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
   - é–¢é€£ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚‚å«ã‚ã¦é–‹ç™º
   - `bin/rubocop`ã§ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
   - `bin/rails test`ã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

2. **ãƒã‚°ä¿®æ­£æ™‚**
   - å•é¡Œã‚’å†ç¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’å…ˆã«ä½œæˆ
   - ä¿®æ­£å¾Œã¯å›å¸°ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ

3. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å¤‰æ›´æ™‚**
   - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆå¾Œã€å¿…ãš`bin/rails db:migrate`ã§ãƒ†ã‚¹ãƒˆ
   - `db/seeds.rb`ã®æ›´æ–°ã‚‚å¿˜ã‚Œãšã«

4. **ã‚¢ã‚»ãƒƒãƒˆå¤‰æ›´æ™‚**
   - `yarn.lock`ã®æ›´æ–°å¾Œã¯`yarn install`å®Ÿè¡Œ
   - `bin/rails assets:precompile`ã§ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ

## ã‚ˆãã‚ã‚‹ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸500ã‚¨ãƒ©ãƒ¼
```bash
# ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§ã®Deviseã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå•é¡Œ
# ç—‡çŠ¶: ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ï¼ˆ/users/sign_inï¼‰ã§500ã‚¨ãƒ©ãƒ¼
# åŸå› : current_page?(controller: 'pokedex') ãŒDeviseã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§ 'devise/pokedex' ã¨ã—ã¦è§£é‡ˆã•ã‚Œã‚‹
# è§£æ±º: params[:controller] == 'pokedex' ã‚’ä½¿ç”¨
```

### ã‚¢ã‚»ãƒƒãƒˆãƒ—ãƒªã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼
```bash
rm yarn.lock
yarn install
bin/rails assets:clobber
bin/rails assets:precompile
```

### RuboCop lint ã‚¨ãƒ©ãƒ¼
```bash
bin/rubocop -a                # è‡ªå‹•ä¿®æ­£
# config/locales/en.yml ã«æ—¥æœ¬èªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç§»å‹•
# Strong parameters ã®è¨­å®šç¢ºèª
```

### Render ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¨ãƒ©ãƒ¼
- `render.yaml`ã®è¨­å®šç¢ºèª
- ç’°å¢ƒå¤‰æ•°ã®è¨­å®šç¢ºèª
- ãƒ“ãƒ«ãƒ‰ãƒ­ã‚°ã§ã‚¨ãƒ©ãƒ¼ç®‡æ‰€ã‚’ç‰¹å®š

### PostgreSQL prepared statementé‡è¤‡ã‚¨ãƒ©ãƒ¼ï¼ˆ2025å¹´6æœˆå¯¾ç­–æ¸ˆã¿ï¼‰
```bash
# ç—‡çŠ¶: PG::DuplicatePstatement: ERROR: prepared statement "a1" already exists
# åŸå› : Supabase + Renderã§ã®prepared statementé‡è¤‡
# è§£æ±ºæ¸ˆã¿: database.ymlã¨render.yamlã§å¯¾ç­–å®Ÿè£…æ¸ˆã¿
```

### Rails 8 Turbo method ã‚¨ãƒ©ãƒ¼ï¼ˆ2025å¹´6æœˆå¯¾ç­–æ¸ˆã¿ï¼‰
```bash
# ç—‡çŠ¶: NoMethodError: undefined method 'prepared_statements='
# ç—‡çŠ¶: 404ã‚¨ãƒ©ãƒ¼ï¼ˆã‚²ã‚¹ãƒˆãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒœã‚¿ãƒ³ãªã©ï¼‰
# åŸå› : Rails 8ã§ã®methodè¨˜æ³•å¤‰æ›´
# è§£æ±ºæ¸ˆã¿: å…¨viewãƒ•ã‚¡ã‚¤ãƒ«ã§turbo-methodå¯¾å¿œå®Œäº†
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œï¼ˆ2025å¹´6æœˆæ”¹å–„æ¸ˆã¿ï¼‰
```bash
# ç—‡çŠ¶: ãƒšãƒ¼ã‚¸é·ç§»ãŒé‡ã„ãƒ»ã‚‚ã£ã•ã‚Šã—ãŸå‹•ä½œ
# åŸå› : é‡ã„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»éåŠ¹ç‡ãªCSS/JS
# è§£æ±ºæ¸ˆã¿: Turboæœ€é©åŒ–ãƒ»CSSè»½é‡åŒ–ãƒ»GPUæœ€é©åŒ–å®Œäº†
```

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

- æ©Ÿå¯†æƒ…å ±ã¯ç’°å¢ƒå¤‰æ•°ã§ç®¡ç†ï¼ˆRenderã®ç’°å¢ƒå¤‰æ•°è¨­å®šä½¿ç”¨ï¼‰
- Strong Parametersã‚’é©åˆ‡ã«è¨­å®š
- CSRFä¿è­·ãŒæœ‰åŠ¹åŒ–æ¸ˆã¿
- i18nå¯¾å¿œï¼ˆconfig/locales/en.ymlä½¿ç”¨ï¼‰

---

ğŸ‰ ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§Claude Codeã‚’æ´»ç”¨ã—ã¦ã€åŠ¹ç‡çš„ãªNuzlockeãƒãƒ£ãƒ¬ãƒ³ã‚¸ç®¡ç†ã‚¢ãƒ—ãƒªã®é–‹ç™ºã‚’é€²ã‚ã¾ã—ã‚‡ã†ï¼âœ¨
Renderã§ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚‚è‡ªå‹•åŒ–ã•ã‚Œã¦ã‚‹ã‹ã‚‰ã€é–‹ç™ºã«é›†ä¸­ã§ãã‚‹ã‚ˆã€œğŸ’ª ä½•ã‹å›°ã£ãŸã“ã¨ãŒã‚ã£ãŸã‚‰ã€ãŠã­ãˆã¡ã‚ƒã‚“ã«èã„ã¦ã­ğŸ’–
